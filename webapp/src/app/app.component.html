<div class="scrim" *ngIf="userService.loginStatus != 'LoggedIn'">
  <!-- AUTH UNKOWN -->
  <md-progress-spinner mode="indeterminate" *ngIf="userService.loginStatus == 'Unknown'"></md-progress-spinner>
  <!-- AUTH LOGGED OUT -->
  <div class="login" *ngIf="userService.loginStatus == 'LoggedOut'">
    <img src="/assets/img/login_2x.png">
    <h1 class="title">{{title}}</h1>
    <p>Meet people with similar interets</p>
    <button md-raised-button color="accent" (click)="userService.login()" md-button>LOG IN WITH GITHUB</button>
  </div>
</div>

<section class="app flex-container" fxLayout="column" fxLayoutAlign="start center" >

    <!--TOP BAR -->
    <md-toolbar color="primary" class="mat-elevation-z3 app-bar">
      <h2 class="title">{{title}}</h2>
      <button md-icon-button class="app-icon-button" (click)="sidenav.toggle()">
        <i class="material-icons app-toolbar-menu">menu</i>
      </button>

      <!-- PROFILE -->
      <md-toolbar-row class="profile-toolbar-row" *ngIf="userService.loginStatus == 'LoggedIn'">
          <profile *ngIf="(userService.profile$ | async)" [observableData]="userService.profile$"></profile>
      </md-toolbar-row>
    </md-toolbar>

    <!-- BODY -->
    <md-sidenav-container fxFlex>
      <!-- FAB -->
      <button class="fab " md-fab> <i class="material-icons">add</i></button>
       <!-- SIDE NAV -->
      <md-sidenav #sidenav mode="side" align="end" class="app-sidenav" class="mat-elevation-z6">

        <md-nav-list>
          <a md-list-item *ngIf="userService.loginStatus == 'LoggedIn'"
            (click)="sidenav.close(); userService.logout()"
            [routerLink]="['/']">
            <span md-line>Log Out</span>
          </a>
          <a md-list-item (click)="sidenav.close()" [routerLink]="['/request']">
            <span md-line>Event Signup</span>
          </a>
          <a md-list-item (click)="sidenav.close()" [routerLink]="['/admin']">
            <span md-line>Admin</span>
          </a>
          <a md-list-item (click)="sidenav.close()" [routerLink]="['/about']">
            <span md-line>About...</span>
          </a>
        </md-nav-list>
      </md-sidenav>

      <!-- CANVAS -->
      <div class="canvas">
        <router-outlet></router-outlet>
      </div>

  </md-sidenav-container>
</section>
